<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<!--     무조건 DAO가 위치한 패키지로 namespace 해야하는가? -->
<mapper namespace="kr.or.gaw.dao.PlanDAO">

	<select id="selectPlan" resultType="PlanDTO">
		select * from plan
	</select>
	
	<delete id="deletePlan" parameterType="PlanDTO">
		DELETE FROM PLAN
			where plan_id = #{plan_id}
	</delete>
	
	 <!-- 생산계획 생성 -->
    <insert id="createPlan" parameterType="PlanDTO">
        INSERT INTO plan (plan_id, product_id, start_date, end_date, quantity, created_by, status)
        VALUES (#{plan_id}, #{product_id}, #{start_date}, #{end_date}, #{quantity}, #{created_by}, #{status})
    </insert>

    <!-- 생산계획 수정 -->
    <update id="updatePlan" parameterType="PlanDTO">
        UPDATE plan
        SET product_id = #{product_id},
            start_date = #{start_date},
            end_date = #{end_date},
            quantity = #{quantity},
            created_by = #{created_by},
            status = #{status}
        WHERE plan_id = #{plan_id}
    </update>
	
	
	
<!-- 	<select id="isUserIdDuplicate" parameterType="String" resultType="int"> 
		SELECT COUNT(*) FROM emp WHERE user_id = #{user_id} 
		</select> -->

	
</mapper>
